{"remainingRequest":"C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\prog\\doko3\\src\\components\\DokoPlayers.vue?vue&type=template&id=9561eef6&scoped=true&ts=true","dependencies":[{"path":"C:\\prog\\doko3\\src\\components\\DokoPlayers.vue","mtime":1670689440497},{"path":"C:\\prog\\doko3\\node_modules\\babel-loader\\lib\\index.js","mtime":1639842509641},{"path":"C:\\prog\\doko3\\node_modules\\ts-loader\\index.js","mtime":1639842516501},{"path":"C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1639842529313},{"path":"C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639842481421},{"path":"C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639842514737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdj4KICAgIDxIZWFkZXIgdGV4dD0iTmV1ZSBMaXN0ZSIgLz4KICAgIDxCdXR0b24gQGJ0bi1jbGljaz0idG9nZ2xlQWRkUGxheWVyIiA6dGV4dD0ic2hvd0FkZFBsYXllciA/ICdBYmJydWNoJyA6ICdOZXVlciBTcGllbGVyJyIKICAgICAgOmNvbG9yPSJzaG93QWRkUGxheWVyID8gJ3JlZCcgOiAnZ3JlZW4nIiAvPgogICAgPEJ1dHRvbiB2LWlmPSIhc2hvd0FkZFBsYXllciIgdGV4dD0ienVyw7xjayIgY29sb3I9ImJsdWUiIEBjbGljaz0iJGVtaXQoJ2JhY2snKSIgLz4KICAgIDxCdXR0b24gdi1pZj0iIXNob3dBZGRQbGF5ZXIiIHRleHQ9Ik5ldWUgTGlzdGUgc3RhcnRlbiIgY29sb3I9InB1cnBsZSIgQGNsaWNrPSIkZW1pdCgnbmV3LWxpc3QnKSIKICAgICAgOmNsYXNzPSJbc3RhcnRPSyA/ICdhY3RpdmUnIDogJycsICdzYXZlJ10iIDpkaXNhYmxlZD0ic3RhcnRPSyA9PT0gZmFsc2UiIC8+CiAgICA8QWRkUGxheWVyIHYtc2hvdz0ic2hvd0FkZFBsYXllciIgQGFkZC1wbGF5ZXI9Im5ld1BsYXllciIgLz4KCiAgICA8ZGl2IDprZXk9InBsYXllci5pZCIgdi1mb3I9InBsYXllciBpbiBwbGF5ZXJzIj4KICAgICAgPFBsYXllciBAdG9nZ2xlLWFjdGl2ZT0idG9nZ2xlQWN0aXZlKHBsYXllci5pZCkiIEBkZWxldGUtcGxheWVyPSJkZWxldGVQbGF5ZXIocGxheWVyLmlkKSIKICAgICAgICBAZHJvcHBlZD0iZHJvcHBlZFBsYXllcigkZXZlbnQscGxheWVyLmlkKSIgOnBsYXllcj0icGxheWVyIiAvPgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["C:\\prog\\doko3\\src\\components\\DokoPlayers.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACjF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC5E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;IAE3D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACjE,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/prog/doko3/src/components/DokoPlayers.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <Header text=\"Neue Liste\" />\n    <Button @btn-click=\"toggleAddPlayer\" :text=\"showAddPlayer ? 'Abbruch' : 'Neuer Spieler'\"\n      :color=\"showAddPlayer ? 'red' : 'green'\" />\n    <Button v-if=\"!showAddPlayer\" text=\"zurück\" color=\"blue\" @click=\"$emit('back')\" />\n    <Button v-if=\"!showAddPlayer\" text=\"Neue Liste starten\" color=\"purple\" @click=\"$emit('new-list')\"\n      :class=\"[startOK ? 'active' : '', 'save']\" :disabled=\"startOK === false\" />\n    <AddPlayer v-show=\"showAddPlayer\" @add-player=\"newPlayer\" />\n\n    <div :key=\"player.id\" v-for=\"player in players\">\n      <Player @toggle-active=\"toggleActive(player.id)\" @delete-player=\"deletePlayer(player.id)\"\n        @dropped=\"droppedPlayer($event,player.id)\" :player=\"player\" />\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Player from \"./Player.vue\";\nimport Header from \"./Header.vue\";\nimport Button from \"./Button.vue\";\nimport AddPlayer from \"./AddPlayer.vue\";\nimport { backend, player } from \"../backend\";\nconst back = new backend();\nexport default defineComponent({\n  name: \"DokoPlayers\",\n  components: {\n    Player,\n    Header,\n    Button,\n    AddPlayer,\n  },\n  data() {\n    return {\n      showAddPlayer: false,\n      startOK: false,\n      players: [] as player[],\n    };\n  },\n  methods: {\n    toggleAddPlayer(): void {\n      this.showAddPlayer = !this.showAddPlayer;\n    },\n    async newPlayer(player: player) {\n      let data: player = await back.newPlayer(player);\n      this.players = [...this.players, data];\n    },\n    async deletePlayer(id: number) {\n      if (confirm(\"Spieler löschen?\")) {\n        const deleted = await back.deletePlayer(id);\n        deleted\n          ? (this.players = this.players.filter((player) => player.id !== id))\n          : alert(\"Error deleting player\");\n      }\n    },\n    async toggleActive(id: number) {\n      const playerToToggle = this.players.find((player) => {\n        return player.id === id;\n      });\n      const active = !playerToToggle?.active;\n      const data = await back.setPLayerActive(id, active);\n      this.players = this.players.map((player) =>\n        player.id === id ? { ...player, active: data.active } : player\n      );\n      this.checkStartable();\n    },\n    checkStartable() {\n      let activePlayers = 0;\n      this.players.forEach(player => {\n        if (player.active) { activePlayers++ }\n      });\n      if (activePlayers === 4) this.startOK = true;\n      else this.startOK = false;\n\n    },\n    droppedPlayer(e: Event, playerId: number) {\n      let playerId1 = Number(e);\n      let index1: number = this.players.findIndex(player => player.id == playerId1);\n      let index2: number = this.players.findIndex(player => player.id == playerId);\n      let merkSort = this.players[index1].sort;\n      this.players[index1].sort = this.players[index2].sort;\n      this.players[index2].sort = merkSort;\n      back.swapPlayers(Number(e), playerId);\n      this.players.sort((a, b) => {\n        if (a.sort < b.sort) {\n          return -1;\n        }\n        if (a.sort > b.sort) {\n          return 1;\n        }\n        return 0;\n      })\n    },\n    async fetchPlayers() {\n      return await back.fetchPlayers();\n    },\n    async fetchPlayer(id: number) {\n      return back.fetchPlayer(id);\n    },\n  },\n  async created() {\n    this.players = await this.fetchPlayers();\n    this.checkStartable();\n  },\n  emits: [\"back\", \"new-list\"],\n});\n</script>\n<style scoped>\n.save {\n  cursor: not-allowed;\n  opacity: 40%;\n}\n\n.active {\n  opacity: 100;\n  cursor: pointer;\n}\n</style>"]}]}