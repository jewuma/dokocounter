{"remainingRequest":"C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\prog\\doko3\\src\\components\\Game.vue?vue&type=template&id=1a2b41e2&scoped=true&ts=true","dependencies":[{"path":"C:\\prog\\doko3\\src\\components\\Game.vue","mtime":1669297530839},{"path":"C:\\prog\\doko3\\node_modules\\babel-loader\\lib\\index.js","mtime":1639842509641},{"path":"C:\\prog\\doko3\\node_modules\\ts-loader\\index.js","mtime":1639842516501},{"path":"C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1639842529313},{"path":"C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639842481421},{"path":"C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639842514737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdj4KICAgIDxCdXR0b24gOmtleT0ia2V5IiB2LWZvcj0iKHBsYXllciwga2V5KSBpbiBwbGF5ZXJTdGF0ZXMiIDp0ZXh0PSJwbGF5ZXIubmFtZSIgOnRleHRyPSJwbGF5ZXIuc2NvcmUudG9TdHJpbmcoKSIKICAgICAgOnRleHRsPSJwbGF5ZXIubGFzdFNjb3JlLnRvU3RyaW5nKCkiIDpjb2xvcj0icGxheWVyLnBhcnR5ID09PSBrb250cmFSZS5Lb250cmEgPyAnZ3JlZW4nIDogJ3JlZCciCiAgICAgIEBjbGljaz0idG9nZ2xlUGFydHkoa2V5KSIgLz4KICAgIDxoMz5BbnNhZ2VuPC9oMz4KICAgIDxkaXYgY2xhc3M9InBvaW50YnV0dG9ucyI+CiAgICAgIDxQb2ludEJ1dHRvbiA6YnV0dG9uRGF0YT0iYnV0dG9uIiA6YnV0dG9uSWQ9ImluZGV4IiA6a2V5PSJpbmRleCIgdi1mb3I9IihidXR0b24sIGluZGV4KSBpbiBQcm9ub3VuY2VCdXR0b25zIgogICAgICAgIEBwb2ludGJ1dHRvbi1jbGlja2VkPSJwcm9ub3VuY2VDbGljayIgLz4KICAgIDwvZGl2PgogICAgPGgzPkVyZ2VibmlzPC9oMz4KICAgIDxkaXYgY2xhc3M9InBvaW50YnV0dG9ucyI+CiAgICAgIDxQb2ludEJ1dHRvbiA6YnV0dG9uRGF0YT0iYnV0dG9uIiA6YnV0dG9uSWQ9ImluZGV4IiA6a2V5PSJpbmRleCIgdi1mb3I9IihidXR0b24sIGluZGV4KSBpbiBSZXN1bHRCdXR0b25zIgogICAgICAgIEBwb2ludGJ1dHRvbi1jbGlja2VkPSJyZXN1bHRDbGljayIgLz4KICAgIDwvZGl2PgogICAgPCEtLSA8ZGl2IGNsYXNzPSJwb2ludElucHV0Ij4KICAgICAgPGlucHV0IHR5cGU9InJhbmdlIiBjbGFzcz0icmFuZ2VzIiBtaW49Ii00IiBtYXg9Iis1IiB2LW1vZGVsPSJyZXN1bHQiIC8+CiAgICA8L2Rpdj4gLS0+CiAgICA8aDM+WnVzYXR6cHVua3RlPC9oMz4KICAgIDxkaXYgY2xhc3M9InBvaW50YnV0dG9ucyI+CiAgICAgIDxidXR0b24gOmNsYXNzPSJ7CiAgICAgICAgZXh0cmFwb2ludGJ1dHRvbjogdHJ1ZSwKICAgICAgICBwYXNzaXZlOiBidXR0b24uc3RhdGUgPT0gZmFsc2UsCiAgICAgICAgcmU6IGJ1dHRvbi5wYXJ0eSA9PSAncmUnLAogICAgICAgIGtvOiBidXR0b24ucGFydHkgPT0gJ2tvJywKICAgICAgICBuZTogYnV0dG9uLnBhcnR5ID09ICduZScKICAgICAgfSIgOmtleT0iaW5kZXgiIHYtZm9yPSIoYnV0dG9uLCBpbmRleCkgaW4gRXh0cmFwb2ludEJ1dHRvbnMiIEBjbGljaz0iZXh0cmFwb2ludENsaWNrKGluZGV4KSI+CiAgICAgICAge3sgYnV0dG9uLnRleHQgfX0KICAgICAgPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9InBvaW5idXR0b25zIj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYmFjayIgQGNsaWNrPSIkZW1pdCgnYmFjaycpIj5adXLDvGNrPC9idXR0b24+CiAgICAgIDxidXR0b24gQGNsaWNrPSJzYXZlTGFzdEdhbWUiIDpjbGFzcz0iW3NhdmVPSyA/ICdhY3RpdmUnIDogJycsICdzYXZlTGFzdCddIj4KICAgICAgICBMZXR6dGVzIFNwaWVsIMOkbmRlcm4KICAgICAgPC9idXR0b24+CiAgICAgIDxidXR0b24gQGNsaWNrPSJzYXZlR2FtZSIgOmNsYXNzPSJbc2F2ZU9LID8gJ2FjdGl2ZScgOiAnJywgJ3NhdmUnXSI+CiAgICAgICAgU3BlaWNoZXJuCiAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["C:\\prog\\doko3\\src\\components\\Game.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3C,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACxC,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACzE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;MACzB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1F,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/prog/doko3/src/components/Game.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <Button :key=\"key\" v-for=\"(player, key) in playerStates\" :text=\"player.name\" :textr=\"player.score.toString()\"\n      :textl=\"player.lastScore.toString()\" :color=\"player.party === kontraRe.Kontra ? 'green' : 'red'\"\n      @click=\"toggleParty(key)\" />\n    <h3>Ansagen</h3>\n    <div class=\"pointbuttons\">\n      <PointButton :buttonData=\"button\" :buttonId=\"index\" :key=\"index\" v-for=\"(button, index) in PronounceButtons\"\n        @pointbutton-clicked=\"pronounceClick\" />\n    </div>\n    <h3>Ergebnis</h3>\n    <div class=\"pointbuttons\">\n      <PointButton :buttonData=\"button\" :buttonId=\"index\" :key=\"index\" v-for=\"(button, index) in ResultButtons\"\n        @pointbutton-clicked=\"resultClick\" />\n    </div>\n    <!-- <div class=\"pointInput\">\n      <input type=\"range\" class=\"ranges\" min=\"-4\" max=\"+5\" v-model=\"result\" />\n    </div> -->\n    <h3>Zusatzpunkte</h3>\n    <div class=\"pointbuttons\">\n      <button :class=\"{\n        extrapointbutton: true,\n        passive: button.state == false,\n        re: button.party == 're',\n        ko: button.party == 'ko',\n        ne: button.party == 'ne'\n      }\" :key=\"index\" v-for=\"(button, index) in ExtrapointButtons\" @click=\"extrapointClick(index)\">\n        {{ button.text }}\n      </button>\n    </div>\n    <div class=\"poinbuttons\">\n      <button class=\"back\" @click=\"$emit('back')\">Zurück</button>\n      <button @click=\"saveLastGame\" :class=\"[saveOK ? 'active' : '', 'saveLast']\">\n        Letztes Spiel ändern\n      </button>\n      <button @click=\"saveGame\" :class=\"[saveOK ? 'active' : '', 'save']\">\n        Speichern\n      </button>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport { player, backend, kontraRe, playerState, game } from \"../backend\";\nimport Button from \"./Button.vue\";\nimport PointButton from \"./PointButton.vue\";\nconst back = new backend();\n\n\nexport interface buttonState {\n  text: string;\n  party: string;\n  state: boolean;\n  value: number;\n}\nexport default defineComponent({\n  name: \"Game\",\n  data() {\n    return {\n      kontraRe,\n      games: [] as game[],\n      players: [] as player[],\n      PronounceButtons: [] as buttonState[],\n      ResultButtons: [] as buttonState[],\n      ExtrapointButtons: [] as buttonState[],\n      playerStates: {} as playerState,\n      saveOK: false as boolean,\n      result: 0 as number,\n      extrapoints: 0 as number,\n      changeLastGame: false as boolean\n    };\n  },\n  async created() {\n    this.refreshState();\n  },\n  components: {\n    Button,\n    PointButton,\n  },\n  methods: {\n    async refreshState() {\n      this.games = await back.fetchActiveList();\n      this.players = await back.fetchActivePlayers();\n      this.PronounceButtons = [\n        { text: \"Sw\", party: \"re\", state: false, value: -5 },\n        { text: \"U3\", party: \"re\", state: false, value: -4 },\n        { text: \"U6\", party: \"re\", state: false, value: -3 },\n        { text: \"U9\", party: \"re\", state: false, value: -2 },\n        { text: \"Re\", party: \"re\", state: false, value: -1 },\n        { text: \"Ko\", party: \"ko\", state: false, value: 1 },\n        { text: \"U9\", party: \"ko\", state: false, value: 2 },\n        { text: \"U6\", party: \"ko\", state: false, value: 3 },\n        { text: \"U3\", party: \"ko\", state: false, value: 4 },\n        { text: \"Sw\", party: \"ko\", state: false, value: 5 },\n      ];\n      this.ResultButtons = [\n        { text: \"Sw\", party: \"re\", state: false, value: -4 },\n        { text: \"U3\", party: \"re\", state: false, value: -3 },\n        { text: \"U6\", party: \"re\", state: false, value: -2 },\n        { text: \"U9\", party: \"re\", state: false, value: -1 },\n        { text: \"Re\", party: \"re\", state: true, value: 0 },\n        { text: \"Ko\", party: \"ko\", state: false, value: 1 },\n        { text: \"U9\", party: \"ko\", state: false, value: 2 },\n        { text: \"U6\", party: \"ko\", state: false, value: 3 },\n        { text: \"U3\", party: \"ko\", state: false, value: 4 },\n        { text: \"Sw\", party: \"ko\", state: false, value: 5 },\n      ];\n      this.ExtrapointButtons = [\n        { text: \"5\", party: \"re\", state: false, value: -5 },\n        { text: \"4\", party: \"re\", state: false, value: -4 },\n        { text: \"3\", party: \"re\", state: false, value: -3 },\n        { text: \"2\", party: \"re\", state: false, value: -2 },\n        { text: \"1\", party: \"re\", state: false, value: -1 },\n        { text: \"0\", party: \"ne\", state: true, value: 0 },\n        { text: \"1\", party: \"ko\", state: false, value: 1 },\n        { text: \"2\", party: \"ko\", state: false, value: 2 },\n        { text: \"3\", party: \"ko\", state: false, value: 3 },\n        { text: \"4\", party: \"ko\", state: false, value: 4 },\n        { text: \"5\", party: \"ko\", state: false, value: 5 },\n      ];\n      this.playerStates = {};\n      Object.values(this.games).forEach((singleGame) => {\n        Object.values(singleGame.players).forEach(singlePlayer => {\n          let playerId = singlePlayer.playerId;\n          let singleScore = singlePlayer.points;\n          let playerIndex = this.players.findIndex(player => player.id === playerId);\n          if (this.playerStates[playerId] === undefined) {\n            this.playerStates[playerId] = {\n              name: this.players[playerIndex].name,\n              score: 0,\n              party: kontraRe.Kontra,\n              lastScore: \"0\"\n            };\n          }\n          this.playerStates[playerId].lastScore = singleScore > 0 ? \"+\" + singleScore : singleScore.toString();\n          this.playerStates[playerId].score += +singleScore;\n        });\n      });\n      this.saveOK = false;\n    },\n    toggleParty(playerId: number) {\n      if (this.playerStates[playerId].party === kontraRe.Kontra) {\n        this.playerStates[playerId].party = kontraRe.Re;\n      } else {\n        this.playerStates[playerId].party = kontraRe.Kontra;\n      }\n      let reCount = 0;\n      Object.values(this.playerStates).forEach((player) => {\n        if (player.party === kontraRe.Re) {\n          reCount++;\n        }\n      });\n      this.saveOK = false;\n      if (reCount === 1 || reCount === 2) {\n        this.saveOK = true;\n      }\n    },\n    pronounceClick(buttonId: number) {\n      this.PronounceButtons[buttonId].state = !this.PronounceButtons[buttonId].state;\n      let party = this.PronounceButtons[buttonId].party;\n      if (this.PronounceButtons[buttonId].state === true) {\n        this.PronounceButtons = this.PronounceButtons.map((button, index) => {\n          if (index !== buttonId && button.party === party) {\n            button.state = false;\n          }\n          return button;\n        });\n      }\n    },\n    resultClick(buttonId: number) {\n      if (this.ResultButtons[buttonId].state == false) {\n        this.ResultButtons[buttonId].state = true;\n        this.result = this.ResultButtons[buttonId].value;\n        this.ResultButtons = this.ResultButtons.map((button, index) => {\n          if (index !== buttonId) {\n            button.state = false;\n          }\n          return button;\n        });\n      }\n    },\n    extrapointClick(buttonId: number) {\n      if (this.ExtrapointButtons[buttonId].state == false) {\n        this.ExtrapointButtons[buttonId].state = true;\n        this.extrapoints = this.ExtrapointButtons[buttonId].value;\n        this.ExtrapointButtons = this.ExtrapointButtons.map((button, index) => {\n          if (index !== buttonId) {\n            button.state = false;\n          }\n          return button;\n        });\n      }\n    },\n    async saveGame() {\n      if (this.saveOK) {\n        //result=-4:Re schwarz,-3=Re3 -2=Re6 -1=Re9 0=re Gewonnen, 1=Kontra gewonnen, 5=Kontra schwarz gewonnen\n        //extrapoints -5 bis -1 =Re-Extrapunkte, 1 bis 5 = Kontra-Extrapunkte\n        let kontraAnsage = 0;\n        let reAnsage = 0;\n        this.PronounceButtons.forEach(button => {\n          if (button.state === true) {\n            if (button.value < 0) reAnsage = button.value;\n            else kontraAnsage = button.value;\n          }\n        });\n        let gameObject = {\n          playerStates: this.playerStates,\n          kontraAnsage,\n          reAnsage,\n          result: this.result,\n          extrapoints: this.extrapoints,\n          changeLastGame: this.changeLastGame\n        }\n        console.log(gameObject);\n        await back.saveGame(gameObject);\n        this.result = 0;\n        this.extrapoints = 0;\n        this.refreshState();\n      }\n    },\n    saveLastGame() {\n      this.changeLastGame = true;\n      this.saveGame();\n      this.changeLastGame = false;\n    }\n  },\n});\n</script>\n<style scoped>\n.pointbuttons {\n  text-align: center;\n  width: 100%;\n  margin: 5px;\n}\n\n.pointInput {\n  clear: both;\n  margin-left: 15px;\n  width: 95%;\n}\n\n.ranges {\n  width: 100%;\n}\n\nh3 {\n  text-align: center;\n  padding-top: 20px;\n}\n\n.zp {\n  float: left;\n  width: 9%;\n  border: none;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\n.back {\n  cursor: pointer;\n  margin-top: 10px;\n  border-radius: 5px;\n  float: left;\n  width: 31%;\n  border: none;\n  height: 40px;\n  background-color: blue;\n  color: azure;\n}\n\n.save {\n  cursor: not-allowed;\n  margin-top: 10px;\n  border-radius: 5px;\n  float: right;\n  width: 31%;\n  border: none;\n  height: 40px;\n  background-color: darkorange;\n  color: azure;\n  opacity: 0.4;\n}\n\n.saveLast {\n  margin-left: 10px;\n  margin-right: 10px;\n  cursor: not-allowed;\n  margin-top: 10px;\n  border-radius: 5px;\n  width: 31%;\n  border: none;\n  height: 40px;\n  background-color: indigo;\n  color: azure;\n  opacity: 0.4;\n}\n\n.active {\n  opacity: 1;\n  cursor: pointer;\n}\n.passive {\n  opacity: 0.5;\n}\n.extrapointbutton {\n  color: azure;\n  width: 9%;\n  border: none;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  cursor: pointer;\n}\n\n.re {\n  background-color: red;\n}\n\n.ko {\n  background-color: green;\n}\n\n.ne {\n  background-color: gray;\n}\n</style>\n"]}]}