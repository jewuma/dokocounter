{"remainingRequest":"C:\\prog\\doko3\\node_modules\\thread-loader\\dist\\cjs.js!C:\\prog\\doko3\\node_modules\\babel-loader\\lib\\index.js!C:\\prog\\doko3\\node_modules\\ts-loader\\index.js??ref--15-3!C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\prog\\doko3\\src\\components\\Game.vue?vue&type=script&lang=ts","dependencies":[{"path":"C:\\prog\\doko3\\src\\components\\Game.vue","mtime":1671276963443},{"path":"C:\\prog\\doko3\\babel.config.js","mtime":1639842632362},{"path":"C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639842481421},{"path":"C:\\prog\\doko3\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1639842481419},{"path":"C:\\prog\\doko3\\node_modules\\babel-loader\\lib\\index.js","mtime":1639842509641},{"path":"C:\\prog\\doko3\\node_modules\\ts-loader\\index.js","mtime":1639842516501},{"path":"C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639842481421},{"path":"C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639842514737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxwcm9nXFxkb2tvM1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IGJhY2tlbmQsIGtvbnRyYVJlIH0gZnJvbSAiLi4vYmFja2VuZCI7CmltcG9ydCBCdXR0b24gZnJvbSAiLi9CdXR0b24udnVlIjsKaW1wb3J0IFBvaW50QnV0dG9uIGZyb20gIi4vUG9pbnRCdXR0b24udnVlIjsKdmFyIGJhY2sgPSBuZXcgYmFja2VuZCgpOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJHYW1lIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAga29udHJhUmU6IGtvbnRyYVJlLAogICAgICBnYW1lczogW10sCiAgICAgIHBsYXllcnM6IFtdLAogICAgICBQcm9ub3VuY2VCdXR0b25zOiBbXSwKICAgICAgUmVzdWx0QnV0dG9uczogW10sCiAgICAgIEV4dHJhcG9pbnRCdXR0b25zOiBbXSwKICAgICAgcGxheWVyU3RhdGVzOiBbXSwKICAgICAgc2F2ZU9LOiBmYWxzZSwKICAgICAgcmVzdWx0OiAwLAogICAgICBleHRyYXBvaW50czogMCwKICAgICAgY2hhbmdlTGFzdEdhbWU6IGZhbHNlLAogICAgICBnYW1lTnVtYmVyOiAxCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hTdGF0ZSgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcG9uZW50czogewogICAgQnV0dG9uOiBCdXR0b24sCiAgICBQb2ludEJ1dHRvbjogUG9pbnRCdXR0b24KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hTdGF0ZTogZnVuY3Rpb24gcmVmcmVzaFN0YXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBnaWJ0LCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYmFjay5mZXRjaEFjdGl2ZUxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMyLmdhbWVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYmFjay5mZXRjaEFjdGl2ZVBsYXllcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMyLnBsYXllcnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5Qcm9ub3VuY2VCdXR0b25zID0gW3sKICAgICAgICAgICAgICAgICAgdGV4dDogIlN3IiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC01CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJVMyIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAicmUiLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAtNAogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTYiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogInJlIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogLTMKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgdGV4dDogIlU5IiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC0yCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJSZSIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAicmUiLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAtMQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiS28iLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogMQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTkiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogMgogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTYiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogMwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTMiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogNAogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiU3ciLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogNQogICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICBfdGhpczIuUmVzdWx0QnV0dG9ucyA9IFt7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJTdyIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAicmUiLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAtNAogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTMiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogInJlIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogLTMKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgdGV4dDogIlU2IiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC0yCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJVOSIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAicmUiLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAtMQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiUmUiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogInJlIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IHRydWUsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAwCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJLbyIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAia28iLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAxCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJVOSIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAia28iLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAyCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJVNiIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAia28iLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAzCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJVMyIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAia28iLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiA0CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJTdyIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAia28iLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiA1CiAgICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICAgIF90aGlzMi5FeHRyYXBvaW50QnV0dG9ucyA9IFt7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICI1IiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC01CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICI0IiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC00CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICIzIiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC0zCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICIyIiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC0yCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICIxIiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC0xCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICIwIiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJuZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiB0cnVlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogMAogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiMSIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAia28iLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAxCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICIyIiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJrbyIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IDIKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgdGV4dDogIjMiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogMwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiNCIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAia28iLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiA0CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICI1IiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJrbyIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IDUKICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgZ2lidCA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczIuZ2FtZU51bWJlciA9IDE7CiAgICAgICAgICAgICAgICBfdGhpczIucGxheWVyU3RhdGVzID0gW107CiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKF90aGlzMi5nYW1lcykuZm9yRWFjaChmdW5jdGlvbiAoc2luZ2xlR2FtZSkgewogICAgICAgICAgICAgICAgICB2YXIgcmVDb3VudCA9IDA7CiAgICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoc2luZ2xlR2FtZS5wbGF5ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChzaW5nbGVQbGF5ZXIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWVySWQgPSBzaW5nbGVQbGF5ZXIucGxheWVySWQ7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNpbmdsZVNjb3JlID0gc2luZ2xlUGxheWVyLnBvaW50czsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHNpbmdsZVBsYXllci5wYXJ0eSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICByZUNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVJbmRleCA9IF90aGlzMi5wbGF5ZXJTdGF0ZXMuZmluZEluZGV4KGZ1bmN0aW9uIChwbGF5ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXIucGxheWVySWQgPT09IHBsYXllcklkOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVJbmRleCA9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHBJbmRleCA9IF90aGlzMi5wbGF5ZXJzLmZpbmRJbmRleChmdW5jdGlvbiAocGxheWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXIuaWQgPT09IHBsYXllcklkOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBsYXllclN0YXRlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6IHBsYXllcklkLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBfdGhpczIucGxheWVyc1twSW5kZXhdLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiAwLAogICAgICAgICAgICAgICAgICAgICAgICBwYXJ0eToga29udHJhUmUuS29udHJhLAogICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2NvcmU6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgc29ydDogX3RoaXMyLnBsYXllcnNbcEluZGV4XS5zb3J0CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUluZGV4ID0gX3RoaXMyLnBsYXllclN0YXRlcy5sZW5ndGggLSAxOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBsYXllclN0YXRlc1tzdGF0ZUluZGV4XS5sYXN0U2NvcmUgPSBzaW5nbGVTY29yZSA+IDAgPyAiKyIgKyBzaW5nbGVTY29yZSA6IHNpbmdsZVNjb3JlLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBsYXllclN0YXRlc1tzdGF0ZUluZGV4XS5zY29yZSArPSArc2luZ2xlU2NvcmU7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlQ291bnQgPT09IDIpIHsKICAgICAgICAgICAgICAgICAgICBnaWJ0Kys7CgogICAgICAgICAgICAgICAgICAgIGlmIChnaWJ0ID09PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgICBnaWJ0ID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChyZUNvdW50ID4gMCkgX3RoaXMyLmdhbWVOdW1iZXIrKzsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzMi5wbGF5ZXJTdGF0ZXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICByZXR1cm4gYS5zb3J0IC0gYi5zb3J0OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMi5wbGF5ZXJTdGF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gZ2lidCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5wbGF5ZXJTdGF0ZXNbaV0ubmFtZSArPSAiIChHKSI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuc2F2ZU9LID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0b2dnbGVQYXJ0eTogZnVuY3Rpb24gdG9nZ2xlUGFydHkocGxheWVySWQpIHsKICAgICAgaWYgKHRoaXMucGxheWVyU3RhdGVzW3BsYXllcklkXS5wYXJ0eSA9PT0ga29udHJhUmUuS29udHJhKSB7CiAgICAgICAgdGhpcy5wbGF5ZXJTdGF0ZXNbcGxheWVySWRdLnBhcnR5ID0ga29udHJhUmUuUmU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wbGF5ZXJTdGF0ZXNbcGxheWVySWRdLnBhcnR5ID0ga29udHJhUmUuS29udHJhOwogICAgICB9CgogICAgICB2YXIgcmVDb3VudCA9IDA7CiAgICAgIE9iamVjdC52YWx1ZXModGhpcy5wbGF5ZXJTdGF0ZXMpLmZvckVhY2goZnVuY3Rpb24gKHBsYXllcikgewogICAgICAgIGlmIChwbGF5ZXIucGFydHkgPT09IGtvbnRyYVJlLlJlKSB7CiAgICAgICAgICByZUNvdW50Kys7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zYXZlT0sgPSBmYWxzZTsKCiAgICAgIGlmIChyZUNvdW50ID09PSAxIHx8IHJlQ291bnQgPT09IDIpIHsKICAgICAgICB0aGlzLnNhdmVPSyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBwcm9ub3VuY2VDbGljazogZnVuY3Rpb24gcHJvbm91bmNlQ2xpY2soYnV0dG9uSWQpIHsKICAgICAgdGhpcy5Qcm9ub3VuY2VCdXR0b25zW2J1dHRvbklkXS5zdGF0ZSA9ICF0aGlzLlByb25vdW5jZUJ1dHRvbnNbYnV0dG9uSWRdLnN0YXRlOwogICAgICB2YXIgcGFydHkgPSB0aGlzLlByb25vdW5jZUJ1dHRvbnNbYnV0dG9uSWRdLnBhcnR5OwoKICAgICAgaWYgKHRoaXMuUHJvbm91bmNlQnV0dG9uc1tidXR0b25JZF0uc3RhdGUgPT09IHRydWUpIHsKICAgICAgICB0aGlzLlByb25vdW5jZUJ1dHRvbnMgPSB0aGlzLlByb25vdW5jZUJ1dHRvbnMubWFwKGZ1bmN0aW9uIChidXR0b24sIGluZGV4KSB7CiAgICAgICAgICBpZiAoaW5kZXggIT09IGJ1dHRvbklkICYmIGJ1dHRvbi5wYXJ0eSA9PT0gcGFydHkpIHsKICAgICAgICAgICAgYnV0dG9uLnN0YXRlID0gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGJ1dHRvbjsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlc3VsdENsaWNrOiBmdW5jdGlvbiByZXN1bHRDbGljayhidXR0b25JZCkgewogICAgICBpZiAodGhpcy5SZXN1bHRCdXR0b25zW2J1dHRvbklkXS5zdGF0ZSA9PSBmYWxzZSkgewogICAgICAgIHRoaXMuUmVzdWx0QnV0dG9uc1tidXR0b25JZF0uc3RhdGUgPSB0cnVlOwogICAgICAgIHRoaXMucmVzdWx0ID0gdGhpcy5SZXN1bHRCdXR0b25zW2J1dHRvbklkXS52YWx1ZTsKICAgICAgICB0aGlzLlJlc3VsdEJ1dHRvbnMgPSB0aGlzLlJlc3VsdEJ1dHRvbnMubWFwKGZ1bmN0aW9uIChidXR0b24sIGluZGV4KSB7CiAgICAgICAgICBpZiAoaW5kZXggIT09IGJ1dHRvbklkKSB7CiAgICAgICAgICAgIGJ1dHRvbi5zdGF0ZSA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBidXR0b247CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBleHRyYXBvaW50Q2xpY2s6IGZ1bmN0aW9uIGV4dHJhcG9pbnRDbGljayhidXR0b25JZCkgewogICAgICBpZiAodGhpcy5FeHRyYXBvaW50QnV0dG9uc1tidXR0b25JZF0uc3RhdGUgPT0gZmFsc2UpIHsKICAgICAgICB0aGlzLkV4dHJhcG9pbnRCdXR0b25zW2J1dHRvbklkXS5zdGF0ZSA9IHRydWU7CiAgICAgICAgdGhpcy5leHRyYXBvaW50cyA9IHRoaXMuRXh0cmFwb2ludEJ1dHRvbnNbYnV0dG9uSWRdLnZhbHVlOwogICAgICAgIHRoaXMuRXh0cmFwb2ludEJ1dHRvbnMgPSB0aGlzLkV4dHJhcG9pbnRCdXR0b25zLm1hcChmdW5jdGlvbiAoYnV0dG9uLCBpbmRleCkgewogICAgICAgICAgaWYgKGluZGV4ICE9PSBidXR0b25JZCkgewogICAgICAgICAgICBidXR0b24uc3RhdGUgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gYnV0dG9uOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2F2ZUdhbWU6IGZ1bmN0aW9uIHNhdmVHYW1lKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBrb250cmFBbnNhZ2UsIHJlQW5zYWdlLCBnYW1lT2JqZWN0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5zYXZlT0spIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy9yZXN1bHQ9LTQ6UmUgc2Nod2FyeiwtMz1SZTMgLTI9UmU2IC0xPVJlOSAwPXJlIEdld29ubmVuLCAxPUtvbnRyYSBnZXdvbm5lbiwgNT1Lb250cmEgc2Nod2FyeiBnZXdvbm5lbgogICAgICAgICAgICAgICAgLy9leHRyYXBvaW50cyAtNSBiaXMgLTEgPVJlLUV4dHJhcHVua3RlLCAxIGJpcyA1ID0gS29udHJhLUV4dHJhcHVua3RlCiAgICAgICAgICAgICAgICBrb250cmFBbnNhZ2UgPSAwOwogICAgICAgICAgICAgICAgcmVBbnNhZ2UgPSAwOwoKICAgICAgICAgICAgICAgIF90aGlzMy5Qcm9ub3VuY2VCdXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLnN0YXRlID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi52YWx1ZSA8IDApIHJlQW5zYWdlID0gYnV0dG9uLnZhbHVlO2Vsc2Uga29udHJhQW5zYWdlID0gYnV0dG9uLnZhbHVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBnYW1lT2JqZWN0ID0gewogICAgICAgICAgICAgICAgICBwbGF5ZXJTdGF0ZXM6IF90aGlzMy5wbGF5ZXJTdGF0ZXMsCiAgICAgICAgICAgICAgICAgIGtvbnRyYUFuc2FnZToga29udHJhQW5zYWdlLAogICAgICAgICAgICAgICAgICByZUFuc2FnZTogcmVBbnNhZ2UsCiAgICAgICAgICAgICAgICAgIHJlc3VsdDogX3RoaXMzLnJlc3VsdCwKICAgICAgICAgICAgICAgICAgZXh0cmFwb2ludHM6IF90aGlzMy5leHRyYXBvaW50cywKICAgICAgICAgICAgICAgICAgY2hhbmdlTGFzdEdhbWU6IF90aGlzMy5jaGFuZ2VMYXN0R2FtZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBiYWNrLnNhdmVHYW1lKGdhbWVPYmplY3QpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfdGhpczMucmVzdWx0ID0gMDsKICAgICAgICAgICAgICAgIF90aGlzMy5leHRyYXBvaW50cyA9IDA7CgogICAgICAgICAgICAgICAgX3RoaXMzLnBsYXllclN0YXRlcy5tYXAoZnVuY3Rpb24gKHBsYXllclN0YXRlKSB7CiAgICAgICAgICAgICAgICAgIHBsYXllclN0YXRlLnBhcnR5ID0ga29udHJhUmUuS29udHJhOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMzLnJlZnJlc2hTdGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZUxhc3RHYW1lOiBmdW5jdGlvbiBzYXZlTGFzdEdhbWUoKSB7CiAgICAgIHRoaXMuY2hhbmdlTGFzdEdhbWUgPSB0cnVlOwogICAgICB0aGlzLnNhdmVHYW1lKCk7CiAgICAgIHRoaXMuY2hhbmdlTGFzdEdhbWUgPSBmYWxzZTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\prog\\doko3\\src\\components\\Game.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;;;;;;;;;AACA,SAAS,eAAT,QAAgC,KAAhC;AACA,SAAiB,OAAjB,EAA0B,QAA1B,QAA6D,YAA7D;AACA,OAAO,MAAP,MAAmB,cAAnB;AACA,OAAO,WAAP,MAAwB,mBAAxB;AACA,IAAM,IAAI,GAAG,IAAI,OAAJ,EAAb;AASA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,MADuB;AAE7B,EAAA,IAF6B,kBAEzB;AACF,WAAO;AACL,MAAA,QAAQ,EAAR,QADK;AAEL,MAAA,KAAK,EAAE,EAFF;AAGL,MAAA,OAAO,EAAE,EAHJ;AAIL,MAAA,gBAAgB,EAAE,EAJb;AAKL,MAAA,aAAa,EAAE,EALV;AAML,MAAA,iBAAiB,EAAE,EANd;AAOL,MAAA,YAAY,EAAE,EAPT;AAQL,MAAA,MAAM,EAAE,KARH;AASL,MAAA,MAAM,EAAE,CATH;AAUL,MAAA,WAAW,EAAE,CAVR;AAWL,MAAA,cAAc,EAAE,KAXX;AAYL,MAAA,UAAU,EAAE;AAZP,KAAP;AAcD,GAjB4B;AAkBvB,EAAA,OAlBuB,qBAkBhB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,cAAA,KAAI,CAAC,YAAL;;AADW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZ,GApB4B;AAqB7B,EAAA,UAAU,EAAE;AACV,IAAA,MAAM,EAAN,MADU;AAEV,IAAA,WAAW,EAAX;AAFU,GArBiB;AAyB7B,EAAA,OAAO,EAAE;AACD,IAAA,YADC,0BACW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACG,IAAI,CAAC,eAAL,EADH;;AAAA;AAChB,gBAAA,MAAI,CAAC,KADW;AAAA;AAAA,uBAEK,IAAI,CAAC,kBAAL,EAFL;;AAAA;AAEhB,gBAAA,MAAI,CAAC,OAFW;AAGhB,gBAAA,MAAI,CAAC,gBAAL,GAAwB,CACtB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBADsB,EAEtB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAFsB,EAGtB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAHsB,EAItB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAJsB,EAKtB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBALsB,EAMtB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBANsB,EAOtB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBAPsB,EAQtB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBARsB,EAStB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBATsB,EAUtB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBAVsB,CAAxB;AAYA,gBAAA,MAAI,CAAC,aAAL,GAAqB,CACnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBADmB,EAEnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAFmB,EAGnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAHmB,EAInB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAJmB,EAKnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,IAAlC;AAAwC,kBAAA,KAAK,EAAE;AAA/C,iBALmB,EAMnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBANmB,EAOnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBAPmB,EAQnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBARmB,EASnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBATmB,EAUnB;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBAVmB,CAArB;AAYA,gBAAA,MAAI,CAAC,iBAAL,GAAyB,CACvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE,CAAC;AAAhD,iBADuB,EAEvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE,CAAC;AAAhD,iBAFuB,EAGvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE,CAAC;AAAhD,iBAHuB,EAIvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE,CAAC;AAAhD,iBAJuB,EAKvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE,CAAC;AAAhD,iBALuB,EAMvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,IAAjC;AAAuC,kBAAA,KAAK,EAAE;AAA9C,iBANuB,EAOvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE;AAA/C,iBAPuB,EAQvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE;AAA/C,iBARuB,EASvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE;AAA/C,iBATuB,EAUvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE;AAA/C,iBAVuB,EAWvB;AAAE,kBAAA,IAAI,EAAE,GAAR;AAAa,kBAAA,KAAK,EAAE,IAApB;AAA0B,kBAAA,KAAK,EAAE,KAAjC;AAAwC,kBAAA,KAAK,EAAE;AAA/C,iBAXuB,CAAzB;AAaI,gBAAA,IAxCY,GAwCL,CAxCK;AAyChB,gBAAA,MAAI,CAAC,UAAL,GAAkB,CAAlB;AACA,gBAAA,MAAI,CAAC,YAAL,GAAoB,EAApB;AACA,gBAAA,MAAM,CAAC,MAAP,CAAc,MAAI,CAAC,KAAnB,EAA0B,OAA1B,CAAkC,UAAC,UAAD,EAAe;AAC/C,sBAAI,OAAO,GAAG,CAAd;AACA,kBAAA,MAAM,CAAC,MAAP,CAAc,UAAU,CAAC,OAAzB,EAAkC,OAAlC,CAA0C,UAAA,YAAY,EAAG;AACvD,wBAAI,QAAQ,GAAG,YAAY,CAAC,QAA5B;AACA,wBAAI,WAAW,GAAG,YAAY,CAAC,MAA/B;;AACA,wBAAI,YAAY,CAAC,KAAb,IAAsB,CAA1B,EAA6B;AAC3B,sBAAA,OAAO;AACR;;AACD,wBAAI,UAAU,GAAG,MAAI,CAAC,YAAL,CAAkB,SAAlB,CAA4B,UAAA,MAAM;AAAA,6BAAI,MAAM,CAAC,QAAP,KAAoB,QAAxB;AAAA,qBAAlC,CAAjB;;AACA,wBAAI,UAAU,IAAI,CAAC,CAAnB,EAAsB;AACpB,0BAAI,MAAM,GAAG,MAAI,CAAC,OAAL,CAAa,SAAb,CAAuB,UAAA,MAAM;AAAA,+BAAI,MAAM,CAAC,EAAP,KAAc,QAAlB;AAAA,uBAA7B,CAAb;;AACA,sBAAA,MAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB;AACrB,wBAAA,QAAQ,EAAR,QADqB;AAErB,wBAAA,IAAI,EAAE,MAAI,CAAC,OAAL,CAAa,MAAb,EAAqB,IAFN;AAGrB,wBAAA,KAAK,EAAE,CAHc;AAIrB,wBAAA,KAAK,EAAE,QAAQ,CAAC,MAJK;AAKrB,wBAAA,SAAS,EAAE,GALU;AAMrB,wBAAA,IAAI,EAAE,MAAI,CAAC,OAAL,CAAa,MAAb,EAAqB;AANN,uBAAvB;;AAQA,sBAAA,UAAU,GAAG,MAAI,CAAC,YAAL,CAAkB,MAAlB,GAA2B,CAAxC;AACD;;AACD,oBAAA,MAAI,CAAC,YAAL,CAAkB,UAAlB,EAA8B,SAA9B,GAA0C,WAAW,GAAG,CAAd,GAAkB,MAAM,WAAxB,GAAsC,WAAW,CAAC,QAAZ,EAAhF;AACA,oBAAA,MAAI,CAAC,YAAL,CAAkB,UAAlB,EAA8B,KAA9B,IAAuC,CAAC,WAAxC;AACD,mBArBD;;AAsBA,sBAAI,OAAO,KAAK,CAAhB,EAAmB;AACjB,oBAAA,IAAI;;AACJ,wBAAI,IAAI,KAAK,CAAb,EAAgB;AACd,sBAAA,IAAI,GAAG,CAAP;AACD;AACF;;AACD,sBAAI,OAAO,GAAG,CAAd,EAAiB,MAAI,CAAC,UAAL;AAClB,iBA/BD;;AAgCA,gBAAA,MAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,UAAC,CAAD,EAAI,CAAJ,EAAS;AAC9B,yBAAO,CAAC,CAAC,IAAF,GAAS,CAAC,CAAC,IAAlB;AACD,iBAFD;;AAGA,qBAAS,CAAT,GAAa,CAAb,EAAgB,CAAC,GAAG,MAAI,CAAC,YAAL,CAAkB,MAAtC,EAA8C,CAAC,EAA/C,EAAmD;AACjD,sBAAI,CAAC,IAAI,IAAT,EAAe;AACb,oBAAA,MAAI,CAAC,YAAL,CAAkB,CAAlB,EAAqB,IAArB,IAA6B,MAA7B;AACD;AACF;;AACD,gBAAA,MAAI,CAAC,MAAL,GAAc,KAAd;;AAnFgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoFjB,KArFM;AAsFP,IAAA,WAtFO,uBAsFK,QAtFL,EAsFqB;AAC1B,UAAI,KAAK,YAAL,CAAkB,QAAlB,EAA4B,KAA5B,KAAsC,QAAQ,CAAC,MAAnD,EAA2D;AACzD,aAAK,YAAL,CAAkB,QAAlB,EAA4B,KAA5B,GAAoC,QAAQ,CAAC,EAA7C;AACD,OAFD,MAEO;AACL,aAAK,YAAL,CAAkB,QAAlB,EAA4B,KAA5B,GAAoC,QAAQ,CAAC,MAA7C;AACD;;AACD,UAAI,OAAO,GAAG,CAAd;AACA,MAAA,MAAM,CAAC,MAAP,CAAc,KAAK,YAAnB,EAAiC,OAAjC,CAAyC,UAAC,MAAD,EAAW;AAClD,YAAI,MAAM,CAAC,KAAP,KAAiB,QAAQ,CAAC,EAA9B,EAAkC;AAChC,UAAA,OAAO;AACR;AACF,OAJD;AAKA,WAAK,MAAL,GAAc,KAAd;;AACA,UAAI,OAAO,KAAK,CAAZ,IAAiB,OAAO,KAAK,CAAjC,EAAoC;AAClC,aAAK,MAAL,GAAc,IAAd;AACD;AACF,KAtGM;AAuGP,IAAA,cAvGO,0BAuGQ,QAvGR,EAuGwB;AAC7B,WAAK,gBAAL,CAAsB,QAAtB,EAAgC,KAAhC,GAAwC,CAAC,KAAK,gBAAL,CAAsB,QAAtB,EAAgC,KAAzE;AACA,UAAI,KAAK,GAAG,KAAK,gBAAL,CAAsB,QAAtB,EAAgC,KAA5C;;AACA,UAAI,KAAK,gBAAL,CAAsB,QAAtB,EAAgC,KAAhC,KAA0C,IAA9C,EAAoD;AAClD,aAAK,gBAAL,GAAwB,KAAK,gBAAL,CAAsB,GAAtB,CAA0B,UAAC,MAAD,EAAS,KAAT,EAAkB;AAClE,cAAI,KAAK,KAAK,QAAV,IAAsB,MAAM,CAAC,KAAP,KAAiB,KAA3C,EAAkD;AAChD,YAAA,MAAM,CAAC,KAAP,GAAe,KAAf;AACD;;AACD,iBAAO,MAAP;AACD,SALuB,CAAxB;AAMD;AACF,KAlHM;AAmHP,IAAA,WAnHO,uBAmHK,QAnHL,EAmHqB;AAC1B,UAAI,KAAK,aAAL,CAAmB,QAAnB,EAA6B,KAA7B,IAAsC,KAA1C,EAAiD;AAC/C,aAAK,aAAL,CAAmB,QAAnB,EAA6B,KAA7B,GAAqC,IAArC;AACA,aAAK,MAAL,GAAc,KAAK,aAAL,CAAmB,QAAnB,EAA6B,KAA3C;AACA,aAAK,aAAL,GAAqB,KAAK,aAAL,CAAmB,GAAnB,CAAuB,UAAC,MAAD,EAAS,KAAT,EAAkB;AAC5D,cAAI,KAAK,KAAK,QAAd,EAAwB;AACtB,YAAA,MAAM,CAAC,KAAP,GAAe,KAAf;AACD;;AACD,iBAAO,MAAP;AACD,SALoB,CAArB;AAMD;AACF,KA9HM;AA+HP,IAAA,eA/HO,2BA+HS,QA/HT,EA+HyB;AAC9B,UAAI,KAAK,iBAAL,CAAuB,QAAvB,EAAiC,KAAjC,IAA0C,KAA9C,EAAqD;AACnD,aAAK,iBAAL,CAAuB,QAAvB,EAAiC,KAAjC,GAAyC,IAAzC;AACA,aAAK,WAAL,GAAmB,KAAK,iBAAL,CAAuB,QAAvB,EAAiC,KAApD;AACA,aAAK,iBAAL,GAAyB,KAAK,iBAAL,CAAuB,GAAvB,CAA2B,UAAC,MAAD,EAAS,KAAT,EAAkB;AACpE,cAAI,KAAK,KAAK,QAAd,EAAwB;AACtB,YAAA,MAAM,CAAC,KAAP,GAAe,KAAf;AACD;;AACD,iBAAO,MAAP;AACD,SALwB,CAAzB;AAMD;AACF,KA1IM;AA2ID,IAAA,QA3IC,sBA2IO;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACR,MAAI,CAAC,MADG;AAAA;AAAA;AAAA;;AAEV;AACA;AACI,gBAAA,YAJM,GAIS,CAJT;AAKN,gBAAA,QALM,GAKK,CALL;;AAMV,gBAAA,MAAI,CAAC,gBAAL,CAAsB,OAAtB,CAA8B,UAAA,MAAM,EAAG;AACrC,sBAAI,MAAM,CAAC,KAAP,KAAiB,IAArB,EAA2B;AACzB,wBAAI,MAAM,CAAC,KAAP,GAAe,CAAnB,EAAsB,QAAQ,GAAG,MAAM,CAAC,KAAlB,CAAtB,KACK,YAAY,GAAG,MAAM,CAAC,KAAtB;AACN;AACF,iBALD;;AAMI,gBAAA,UAZM,GAYO;AACf,kBAAA,YAAY,EAAE,MAAI,CAAC,YADJ;AAEf,kBAAA,YAAY,EAAZ,YAFe;AAGf,kBAAA,QAAQ,EAAR,QAHe;AAIf,kBAAA,MAAM,EAAE,MAAI,CAAC,MAJE;AAKf,kBAAA,WAAW,EAAE,MAAI,CAAC,WALH;AAMf,kBAAA,cAAc,EAAE,MAAI,CAAC;AANN,iBAZP;AAAA;AAAA,uBAoBJ,IAAI,CAAC,QAAL,CAAc,UAAd,CApBI;;AAAA;AAqBV,gBAAA,MAAI,CAAC,MAAL,GAAc,CAAd;AACA,gBAAA,MAAI,CAAC,WAAL,GAAmB,CAAnB;;AACA,gBAAA,MAAI,CAAC,YAAL,CAAkB,GAAlB,CAAsB,UAAA,WAAW,EAAG;AAClC,kBAAA,WAAW,CAAC,KAAZ,GAAoB,QAAQ,CAAC,MAA7B;AACD,iBAFD;;AAGA,gBAAA,MAAI,CAAC,YAAL;;AA1BU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4Bb,KAvKM;AAwKP,IAAA,YAxKO,0BAwKK;AACV,WAAK,cAAL,GAAsB,IAAtB;AACA,WAAK,QAAL;AACA,WAAK,cAAL,GAAsB,KAAtB;AACD;AA5KM;AAzBoB,CAAD,CAA9B","sourcesContent":["\nimport { defineComponent } from \"vue\";\nimport { player, backend, kontraRe, playerState, game } from \"../backend\";\nimport Button from \"./Button.vue\";\nimport PointButton from \"./PointButton.vue\";\nconst back = new backend();\n\n\nexport interface buttonState {\n  text: string;\n  party: string;\n  state: boolean;\n  value: number;\n}\nexport default defineComponent({\n  name: \"Game\",\n  data() {\n    return {\n      kontraRe,\n      games: [] as game[],\n      players: [] as player[],\n      PronounceButtons: [] as buttonState[],\n      ResultButtons: [] as buttonState[],\n      ExtrapointButtons: [] as buttonState[],\n      playerStates: [] as playerState[],\n      saveOK: false as boolean,\n      result: 0 as number,\n      extrapoints: 0 as number,\n      changeLastGame: false as boolean,\n      gameNumber: 1 as number\n    };\n  },\n  async created() {\n    this.refreshState();\n  },\n  components: {\n    Button,\n    PointButton,\n  },\n  methods: {\n    async refreshState() {\n      this.games = await back.fetchActiveList();\n      this.players = await back.fetchActivePlayers();\n      this.PronounceButtons = [\n        { text: \"Sw\", party: \"re\", state: false, value: -5 },\n        { text: \"U3\", party: \"re\", state: false, value: -4 },\n        { text: \"U6\", party: \"re\", state: false, value: -3 },\n        { text: \"U9\", party: \"re\", state: false, value: -2 },\n        { text: \"Re\", party: \"re\", state: false, value: -1 },\n        { text: \"Ko\", party: \"ko\", state: false, value: 1 },\n        { text: \"U9\", party: \"ko\", state: false, value: 2 },\n        { text: \"U6\", party: \"ko\", state: false, value: 3 },\n        { text: \"U3\", party: \"ko\", state: false, value: 4 },\n        { text: \"Sw\", party: \"ko\", state: false, value: 5 },\n      ];\n      this.ResultButtons = [\n        { text: \"Sw\", party: \"re\", state: false, value: -4 },\n        { text: \"U3\", party: \"re\", state: false, value: -3 },\n        { text: \"U6\", party: \"re\", state: false, value: -2 },\n        { text: \"U9\", party: \"re\", state: false, value: -1 },\n        { text: \"Re\", party: \"re\", state: true, value: 0 },\n        { text: \"Ko\", party: \"ko\", state: false, value: 1 },\n        { text: \"U9\", party: \"ko\", state: false, value: 2 },\n        { text: \"U6\", party: \"ko\", state: false, value: 3 },\n        { text: \"U3\", party: \"ko\", state: false, value: 4 },\n        { text: \"Sw\", party: \"ko\", state: false, value: 5 },\n      ];\n      this.ExtrapointButtons = [\n        { text: \"5\", party: \"re\", state: false, value: -5 },\n        { text: \"4\", party: \"re\", state: false, value: -4 },\n        { text: \"3\", party: \"re\", state: false, value: -3 },\n        { text: \"2\", party: \"re\", state: false, value: -2 },\n        { text: \"1\", party: \"re\", state: false, value: -1 },\n        { text: \"0\", party: \"ne\", state: true, value: 0 },\n        { text: \"1\", party: \"ko\", state: false, value: 1 },\n        { text: \"2\", party: \"ko\", state: false, value: 2 },\n        { text: \"3\", party: \"ko\", state: false, value: 3 },\n        { text: \"4\", party: \"ko\", state: false, value: 4 },\n        { text: \"5\", party: \"ko\", state: false, value: 5 },\n      ];\n      let gibt = 0;\n      this.gameNumber = 1;\n      this.playerStates = [];\n      Object.values(this.games).forEach((singleGame) => {\n        let reCount = 0;\n        Object.values(singleGame.players).forEach(singlePlayer => {\n          let playerId = singlePlayer.playerId;\n          let singleScore = singlePlayer.points;\n          if (singlePlayer.party == 0) {\n            reCount++;\n          }\n          let stateIndex = this.playerStates.findIndex(player => player.playerId === playerId);\n          if (stateIndex == -1) {\n            let pIndex = this.players.findIndex(player => player.id === playerId);\n            this.playerStates.push({\n              playerId,\n              name: this.players[pIndex].name,\n              score: 0,\n              party: kontraRe.Kontra,\n              lastScore: \"0\",\n              sort: this.players[pIndex].sort\n            });\n            stateIndex = this.playerStates.length - 1;\n          }\n          this.playerStates[stateIndex].lastScore = singleScore > 0 ? \"+\" + singleScore : singleScore.toString();\n          this.playerStates[stateIndex].score += +singleScore;\n        });\n        if (reCount === 2) {\n          gibt++;\n          if (gibt === 4) {\n            gibt = 0;\n          }\n        }\n        if (reCount > 0) this.gameNumber++;\n      });\n      this.playerStates.sort((a, b) => {\n        return a.sort - b.sort;\n      })\n      for (let i = 0; i < this.playerStates.length; i++) {\n        if (i == gibt) {\n          this.playerStates[i].name += \" (G)\";\n        }\n      }\n      this.saveOK = false;\n    },\n    toggleParty(playerId: number) {\n      if (this.playerStates[playerId].party === kontraRe.Kontra) {\n        this.playerStates[playerId].party = kontraRe.Re;\n      } else {\n        this.playerStates[playerId].party = kontraRe.Kontra;\n      }\n      let reCount = 0;\n      Object.values(this.playerStates).forEach((player) => {\n        if (player.party === kontraRe.Re) {\n          reCount++;\n        }\n      });\n      this.saveOK = false;\n      if (reCount === 1 || reCount === 2) {\n        this.saveOK = true;\n      }\n    },\n    pronounceClick(buttonId: number) {\n      this.PronounceButtons[buttonId].state = !this.PronounceButtons[buttonId].state;\n      let party = this.PronounceButtons[buttonId].party;\n      if (this.PronounceButtons[buttonId].state === true) {\n        this.PronounceButtons = this.PronounceButtons.map((button, index) => {\n          if (index !== buttonId && button.party === party) {\n            button.state = false;\n          }\n          return button;\n        });\n      }\n    },\n    resultClick(buttonId: number) {\n      if (this.ResultButtons[buttonId].state == false) {\n        this.ResultButtons[buttonId].state = true;\n        this.result = this.ResultButtons[buttonId].value;\n        this.ResultButtons = this.ResultButtons.map((button, index) => {\n          if (index !== buttonId) {\n            button.state = false;\n          }\n          return button;\n        });\n      }\n    },\n    extrapointClick(buttonId: number) {\n      if (this.ExtrapointButtons[buttonId].state == false) {\n        this.ExtrapointButtons[buttonId].state = true;\n        this.extrapoints = this.ExtrapointButtons[buttonId].value;\n        this.ExtrapointButtons = this.ExtrapointButtons.map((button, index) => {\n          if (index !== buttonId) {\n            button.state = false;\n          }\n          return button;\n        });\n      }\n    },\n    async saveGame() {\n      if (this.saveOK) {\n        //result=-4:Re schwarz,-3=Re3 -2=Re6 -1=Re9 0=re Gewonnen, 1=Kontra gewonnen, 5=Kontra schwarz gewonnen\n        //extrapoints -5 bis -1 =Re-Extrapunkte, 1 bis 5 = Kontra-Extrapunkte\n        let kontraAnsage = 0;\n        let reAnsage = 0;\n        this.PronounceButtons.forEach(button => {\n          if (button.state === true) {\n            if (button.value < 0) reAnsage = button.value;\n            else kontraAnsage = button.value;\n          }\n        });\n        let gameObject = {\n          playerStates: this.playerStates,\n          kontraAnsage,\n          reAnsage,\n          result: this.result,\n          extrapoints: this.extrapoints,\n          changeLastGame: this.changeLastGame\n        }\n        await back.saveGame(gameObject);\n        this.result = 0;\n        this.extrapoints = 0;\n        this.playerStates.map(playerState => {\n          playerState.party = kontraRe.Kontra;\n        })\n        this.refreshState();\n      }\n    },\n    saveLastGame() {\n      this.changeLastGame = true;\n      this.saveGame();\n      this.changeLastGame = false;\n    }\n  },\n});\n"],"sourceRoot":""}]}