{"remainingRequest":"C:\\prog\\doko3\\node_modules\\babel-loader\\lib\\index.js!C:\\prog\\doko3\\node_modules\\ts-loader\\index.js??ref--15-2!C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\prog\\doko3\\src\\components\\Game.vue?vue&type=script&lang=ts","dependencies":[{"path":"C:\\prog\\doko3\\src\\components\\Game.vue","mtime":1664098504187},{"path":"C:\\prog\\doko3\\babel.config.js","mtime":1639842632362},{"path":"C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639842481421},{"path":"C:\\prog\\doko3\\node_modules\\babel-loader\\lib\\index.js","mtime":1639842509641},{"path":"C:\\prog\\doko3\\node_modules\\ts-loader\\index.js","mtime":1639842516501},{"path":"C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639842481421},{"path":"C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639842514737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxwcm9nXFxkb2tvM1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IGJhY2tlbmQsIGtvbnRyYVJlIH0gZnJvbSAiLi4vYmFja2VuZCI7CmltcG9ydCBCdXR0b24gZnJvbSAiLi9CdXR0b24udnVlIjsKaW1wb3J0IFBvaW50QnV0dG9uIGZyb20gIi4vUG9pbnRCdXR0b24udnVlIjsKdmFyIGJhY2sgPSBuZXcgYmFja2VuZCgpOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJHYW1lIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAga29udHJhUmU6IGtvbnRyYVJlLAogICAgICBnYW1lczogW10sCiAgICAgIHBsYXllcnM6IFtdLAogICAgICBCdXR0b25zOiBbXSwKICAgICAgcGxheWVyU3RhdGVzOiB7fSwKICAgICAgc2F2ZU9LOiBmYWxzZSwKICAgICAgcmVzdWx0OiAwLAogICAgICBleHRyYXBvaW50czogMCwKICAgICAgY2hhbmdlTGFzdEdhbWU6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hTdGF0ZSgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcG9uZW50czogewogICAgQnV0dG9uOiBCdXR0b24sCiAgICBQb2ludEJ1dHRvbjogUG9pbnRCdXR0b24KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hTdGF0ZTogZnVuY3Rpb24gcmVmcmVzaFN0YXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYmFjay5mZXRjaEFjdGl2ZUxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMyLmdhbWVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYmFjay5mZXRjaFBsYXllcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMyLnBsYXllcnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5CdXR0b25zID0gW3sKICAgICAgICAgICAgICAgICAgdGV4dDogIlN3IiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC01CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJVMyIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAicmUiLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAtNAogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTYiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogInJlIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogLTMKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgdGV4dDogIlU5IiwKICAgICAgICAgICAgICAgICAgcGFydHk6ICJyZSIsCiAgICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IC0yCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJSZSIsCiAgICAgICAgICAgICAgICAgIHBhcnR5OiAicmUiLAogICAgICAgICAgICAgICAgICBzdGF0ZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiAtMQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiS28iLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogMQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTkiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogMgogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTYiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogMwogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiVTMiLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogNAogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICB0ZXh0OiAiU3ciLAogICAgICAgICAgICAgICAgICBwYXJ0eTogImtvIiwKICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogNQogICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICBfdGhpczIucGxheWVyU3RhdGVzID0ge307CiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKF90aGlzMi5nYW1lcykuZm9yRWFjaChmdW5jdGlvbiAoc2luZ2xlR2FtZSkgewogICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHNpbmdsZUdhbWUpOwogICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKHNpbmdsZUdhbWUucGxheWVycykuZm9yRWFjaChmdW5jdGlvbiAoc2luZ2xlUGxheWVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllcklkID0gc2luZ2xlUGxheWVyLnBsYXllcklkOwogICAgICAgICAgICAgICAgICAgIHZhciBzaW5nbGVTY29yZSA9IHNpbmdsZVBsYXllci5wb2ludHM7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIucGxheWVyU3RhdGVzW3BsYXllcklkXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucGxheWVyU3RhdGVzW3BsYXllcklkXSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMyLnBsYXllcnNbcGxheWVySWRdLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiAwLAogICAgICAgICAgICAgICAgICAgICAgICBwYXJ0eToga29udHJhUmUuS29udHJhCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnBsYXllclN0YXRlc1twbGF5ZXJJZF0uc2NvcmUgKz0gK3NpbmdsZVNjb3JlOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0b2dnbGVQYXJ0eTogZnVuY3Rpb24gdG9nZ2xlUGFydHkocGxheWVySWQpIHsKICAgICAgaWYgKHRoaXMucGxheWVyU3RhdGVzW3BsYXllcklkXS5wYXJ0eSA9PT0ga29udHJhUmUuS29udHJhKSB7CiAgICAgICAgdGhpcy5wbGF5ZXJTdGF0ZXNbcGxheWVySWRdLnBhcnR5ID0ga29udHJhUmUuUmU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wbGF5ZXJTdGF0ZXNbcGxheWVySWRdLnBhcnR5ID0ga29udHJhUmUuS29udHJhOwogICAgICB9CgogICAgICB2YXIgcmVDb3VudCA9IDA7CiAgICAgIE9iamVjdC52YWx1ZXModGhpcy5wbGF5ZXJTdGF0ZXMpLmZvckVhY2goZnVuY3Rpb24gKHBsYXllcikgewogICAgICAgIGlmIChwbGF5ZXIucGFydHkgPT09IGtvbnRyYVJlLlJlKSB7CiAgICAgICAgICByZUNvdW50Kys7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zYXZlT0sgPSBmYWxzZTsKCiAgICAgIGlmIChyZUNvdW50ID09PSAxIHx8IHJlQ291bnQgPT09IDIpIHsKICAgICAgICB0aGlzLnNhdmVPSyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBjbGljazogZnVuY3Rpb24gY2xpY2soYnV0dG9uSWQpIHsKICAgICAgdGhpcy5CdXR0b25zW2J1dHRvbklkXS5zdGF0ZSA9ICF0aGlzLkJ1dHRvbnNbYnV0dG9uSWRdLnN0YXRlOwogICAgICB2YXIgcGFydHkgPSB0aGlzLkJ1dHRvbnNbYnV0dG9uSWRdLnBhcnR5OwoKICAgICAgaWYgKHRoaXMuQnV0dG9uc1tidXR0b25JZF0uc3RhdGUgPT09IHRydWUpIHsKICAgICAgICB0aGlzLkJ1dHRvbnMgPSB0aGlzLkJ1dHRvbnMubWFwKGZ1bmN0aW9uIChidXR0b24sIGluZGV4KSB7CiAgICAgICAgICBpZiAoaW5kZXggIT09IGJ1dHRvbklkICYmIGJ1dHRvbi5wYXJ0eSA9PT0gcGFydHkpIHsKICAgICAgICAgICAgYnV0dG9uLnN0YXRlID0gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGJ1dHRvbjsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNhdmVHYW1lOiBmdW5jdGlvbiBzYXZlR2FtZSgpIHsKICAgICAgaWYgKHRoaXMuc2F2ZU9LKSB7CiAgICAgICAgLy9yZXN1bHQ9LTQ6UmUgc2Nod2FyeiwtMz1SZTMgLTI9UmU2IC0xPVJlOSAwPXJlIEdld29ubmVuLCAxPUtvbnRyYSBnZXdvbm5lbiwgNT1Lb250cmEgc2Nod2FyeiBnZXdvbm5lbgogICAgICAgIC8vZXh0cmFwb2ludHMgLTUgYmlzIC0xID1SZS1FeHRyYXB1bmt0ZSwgMSBiaXMgNSA9IEtvbnRyYS1FeHRyYXB1bmt0ZQogICAgICAgIHZhciBrb250cmFBbnNhZ2UgPSAwOwogICAgICAgIHZhciByZUFuc2FnZSA9IDA7CiAgICAgICAgdGhpcy5CdXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ1dHRvbikgewogICAgICAgICAgaWYgKGJ1dHRvbi5zdGF0ZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBpZiAoYnV0dG9uLnZhbHVlIDwgMCkgcmVBbnNhZ2UgPSBidXR0b24udmFsdWU7ZWxzZSBrb250cmFBbnNhZ2UgPSBidXR0b24udmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGdhbWVPYmplY3QgPSB7CiAgICAgICAgICBwbGF5ZXJTdGF0ZXM6IHRoaXMucGxheWVyU3RhdGVzLAogICAgICAgICAga29udHJhQW5zYWdlOiBrb250cmFBbnNhZ2UsCiAgICAgICAgICByZUFuc2FnZTogcmVBbnNhZ2UsCiAgICAgICAgICByZXN1bHQ6IHRoaXMucmVzdWx0LAogICAgICAgICAgZXh0cmFwb2ludHM6IHRoaXMuZXh0cmFwb2ludHMsCiAgICAgICAgICBjaGFuZ2VMYXN0R2FtZTogdGhpcy5jaGFuZ2VMYXN0R2FtZQogICAgICAgIH07CiAgICAgICAgYmFjay5zYXZlR2FtZShnYW1lT2JqZWN0KTsKICAgICAgICB0aGlzLnJlZnJlc2hTdGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgc2F2ZUxhc3RHYW1lOiBmdW5jdGlvbiBzYXZlTGFzdEdhbWUoKSB7CiAgICAgIHRoaXMuY2hhbmdlTGFzdEdhbWUgPSB0cnVlOwogICAgICB0aGlzLnNhdmVHYW1lKCk7CiAgICAgIHRoaXMuY2hhbmdlTGFzdEdhbWUgPSBmYWxzZTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["C:\\prog\\doko3\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\prog\\doko3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\prog\\doko3\\src\\components\\Game.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;;;;;;AACA,SAAS,eAAT,QAAgC,KAAhC;AACA,SAAiB,OAAjB,EAA0B,QAA1B,QAA6D,YAA7D;AACA,OAAO,MAAP,MAAmB,cAAnB;AACA,OAAO,WAAP,MAAwB,mBAAxB;AACA,IAAM,IAAI,GAAG,IAAI,OAAJ,EAAb;AASA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,MADuB;AAE7B,EAAA,IAF6B,kBAEzB;AACF,WAAO;AACL,MAAA,QAAQ,EAAR,QADK;AAEL,MAAA,KAAK,EAAE,EAFF;AAGL,MAAA,OAAO,EAAE,EAHJ;AAIL,MAAA,OAAO,EAAE,EAJJ;AAKL,MAAA,YAAY,EAAE,EALT;AAML,MAAA,MAAM,EAAE,KANH;AAOL,MAAA,MAAM,EAAE,CAPH;AAQL,MAAA,WAAW,EAAE,CARR;AASL,MAAA,cAAc,EAAE;AATX,KAAP;AAWD,GAd4B;AAevB,EAAA,OAfuB,qBAehB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,cAAA,KAAI,CAAC,YAAL;;AADW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZ,GAjB4B;AAkB7B,EAAA,UAAU,EAAE;AACV,IAAA,MAAM,EAAN,MADU;AAEV,IAAA,WAAW,EAAX;AAFU,GAlBiB;AAsB7B,EAAA,OAAO,EAAE;AACD,IAAA,YADC,0BACW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACG,IAAI,CAAC,eAAL,EADH;;AAAA;AAChB,gBAAA,MAAI,CAAC,KADW;AAAA;AAAA,uBAEK,IAAI,CAAC,YAAL,EAFL;;AAAA;AAEhB,gBAAA,MAAI,CAAC,OAFW;AAGhB,gBAAA,MAAI,CAAC,OAAL,GAAe,CACb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBADa,EAEb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAFa,EAGb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAHa,EAIb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBAJa,EAKb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE,CAAC;AAAjD,iBALa,EAMb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBANa,EAOb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBAPa,EAQb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBARa,EASb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBATa,EAUb;AAAE,kBAAA,IAAI,EAAE,IAAR;AAAc,kBAAA,KAAK,EAAE,IAArB;AAA2B,kBAAA,KAAK,EAAE,KAAlC;AAAyC,kBAAA,KAAK,EAAE;AAAhD,iBAVa,CAAf;AAYA,gBAAA,MAAI,CAAC,YAAL,GAAoB,EAApB;AACA,gBAAA,MAAM,CAAC,MAAP,CAAc,MAAI,CAAC,KAAnB,EAA0B,OAA1B,CAAkC,UAAC,UAAD,EAAe;AAC/C;AACA,kBAAA,MAAM,CAAC,MAAP,CAAc,UAAU,CAAC,OAAzB,EAAkC,OAAlC,CAA0C,UAAA,YAAY,EAAG;AACvD,wBAAI,QAAQ,GAAG,YAAY,CAAC,QAA5B;AACA,wBAAI,WAAW,GAAG,YAAY,CAAC,MAA/B;;AACA,wBAAI,MAAI,CAAC,YAAL,CAAkB,QAAlB,MAAgC,SAApC,EAA+C;AAC7C,sBAAA,MAAI,CAAC,YAAL,CAAkB,QAAlB,IAA8B;AAC5B,wBAAA,IAAI,EAAE,MAAI,CAAC,OAAL,CAAa,QAAb,EAAuB,IADD;AAE5B,wBAAA,KAAK,EAAE,CAFqB;AAG5B,wBAAA,KAAK,EAAE,QAAQ,CAAC;AAHY,uBAA9B;AAKD;;AACD,oBAAA,MAAI,CAAC,YAAL,CAAkB,QAAlB,EAA4B,KAA5B,IAAqC,CAAC,WAAtC;AACD,mBAXD;AAYD,iBAdD;;AAhBgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BjB,KAhCM;AAiCP,IAAA,WAjCO,uBAiCK,QAjCL,EAiCqB;AAC1B,UAAI,KAAK,YAAL,CAAkB,QAAlB,EAA4B,KAA5B,KAAsC,QAAQ,CAAC,MAAnD,EAA2D;AACzD,aAAK,YAAL,CAAkB,QAAlB,EAA4B,KAA5B,GAAoC,QAAQ,CAAC,EAA7C;AACD,OAFD,MAEO;AACL,aAAK,YAAL,CAAkB,QAAlB,EAA4B,KAA5B,GAAoC,QAAQ,CAAC,MAA7C;AACD;;AACD,UAAI,OAAO,GAAG,CAAd;AACA,MAAA,MAAM,CAAC,MAAP,CAAc,KAAK,YAAnB,EAAiC,OAAjC,CAAyC,UAAC,MAAD,EAAW;AAClD,YAAI,MAAM,CAAC,KAAP,KAAiB,QAAQ,CAAC,EAA9B,EAAkC;AAChC,UAAA,OAAO;AACR;AACF,OAJD;AAKA,WAAK,MAAL,GAAc,KAAd;;AACA,UAAI,OAAO,KAAK,CAAZ,IAAiB,OAAO,KAAK,CAAjC,EAAoC;AAClC,aAAK,MAAL,GAAc,IAAd;AACD;AACF,KAjDM;AAkDP,IAAA,KAlDO,iBAkDD,QAlDC,EAkDe;AACpB,WAAK,OAAL,CAAa,QAAb,EAAuB,KAAvB,GAA+B,CAAC,KAAK,OAAL,CAAa,QAAb,EAAuB,KAAvD;AACA,UAAI,KAAK,GAAG,KAAK,OAAL,CAAa,QAAb,EAAuB,KAAnC;;AACA,UAAI,KAAK,OAAL,CAAa,QAAb,EAAuB,KAAvB,KAAiC,IAArC,EAA2C;AACzC,aAAK,OAAL,GAAe,KAAK,OAAL,CAAa,GAAb,CAAiB,UAAC,MAAD,EAAS,KAAT,EAAkB;AAChD,cAAI,KAAK,KAAK,QAAV,IAAsB,MAAM,CAAC,KAAP,KAAiB,KAA3C,EAAkD;AAChD,YAAA,MAAM,CAAC,KAAP,GAAe,KAAf;AACD;;AACD,iBAAO,MAAP;AACD,SALc,CAAf;AAMD;AACF,KA7DM;AA8DP,IAAA,QA9DO,sBA8DC;AACN,UAAI,KAAK,MAAT,EAAiB;AACf;AACA;AACA,YAAI,YAAY,GAAG,CAAnB;AACA,YAAI,QAAQ,GAAG,CAAf;AACA,aAAK,OAAL,CAAa,OAAb,CAAqB,UAAA,MAAM,EAAG;AAC5B,cAAI,MAAM,CAAC,KAAP,KAAiB,IAArB,EAA2B;AACzB,gBAAI,MAAM,CAAC,KAAP,GAAe,CAAnB,EAAsB,QAAQ,GAAG,MAAM,CAAC,KAAlB,CAAtB,KACK,YAAY,GAAG,MAAM,CAAC,KAAtB;AACN;AACF,SALD;AAMA,YAAI,UAAU,GAAG;AACf,UAAA,YAAY,EAAE,KAAK,YADJ;AAEf,UAAA,YAAY,EAAZ,YAFe;AAGf,UAAA,QAAQ,EAAR,QAHe;AAIf,UAAA,MAAM,EAAE,KAAK,MAJE;AAKf,UAAA,WAAW,EAAE,KAAK,WALH;AAMf,UAAA,cAAc,EAAE,KAAK;AANN,SAAjB;AAQA,QAAA,IAAI,CAAC,QAAL,CAAc,UAAd;AACA,aAAK,YAAL;AACD;AACF,KArFM;AAsFP,IAAA,YAtFO,0BAsFK;AACV,WAAK,cAAL,GAAsB,IAAtB;AACA,WAAK,QAAL;AACA,WAAK,cAAL,GAAsB,KAAtB;AACD;AA1FM;AAtBoB,CAAD,CAA9B","sourcesContent":["\nimport { defineComponent } from \"vue\";\nimport { player, backend, kontraRe, playerState, game } from \"../backend\";\nimport Button from \"./Button.vue\";\nimport PointButton from \"./PointButton.vue\";\nconst back = new backend();\n\n\nexport interface buttonState {\n  text: string;\n  party: string;\n  state: boolean;\n  value: number;\n}\nexport default defineComponent({\n  name: \"Game\",\n  data() {\n    return {\n      kontraRe,\n      games: [] as game[],\n      players: [] as player[],\n      Buttons: [] as buttonState[],\n      playerStates: {} as playerState,\n      saveOK: false as boolean,\n      result: 0 as number,\n      extrapoints: 0 as number,\n      changeLastGame: false as boolean\n    };\n  },\n  async created() {\n    this.refreshState();\n  },\n  components: {\n    Button,\n    PointButton,\n  },\n  methods: {\n    async refreshState() {\n      this.games = await back.fetchActiveList();\n      this.players = await back.fetchPlayers();\n      this.Buttons = [\n        { text: \"Sw\", party: \"re\", state: false, value: -5 },\n        { text: \"U3\", party: \"re\", state: false, value: -4 },\n        { text: \"U6\", party: \"re\", state: false, value: -3 },\n        { text: \"U9\", party: \"re\", state: false, value: -2 },\n        { text: \"Re\", party: \"re\", state: false, value: -1 },\n        { text: \"Ko\", party: \"ko\", state: false, value: 1 },\n        { text: \"U9\", party: \"ko\", state: false, value: 2 },\n        { text: \"U6\", party: \"ko\", state: false, value: 3 },\n        { text: \"U3\", party: \"ko\", state: false, value: 4 },\n        { text: \"Sw\", party: \"ko\", state: false, value: 5 },\n      ];\n      this.playerStates = {};\n      Object.values(this.games).forEach((singleGame) => {\n        //console.log(singleGame);\n        Object.values(singleGame.players).forEach(singlePlayer => {\n          let playerId = singlePlayer.playerId;\n          let singleScore = singlePlayer.points;\n          if (this.playerStates[playerId] === undefined) {\n            this.playerStates[playerId] = {\n              name: this.players[playerId].name,\n              score: 0,\n              party: kontraRe.Kontra,\n            };\n          }\n          this.playerStates[playerId].score += +singleScore;\n        });\n      });\n    },\n    toggleParty(playerId: number) {\n      if (this.playerStates[playerId].party === kontraRe.Kontra) {\n        this.playerStates[playerId].party = kontraRe.Re;\n      } else {\n        this.playerStates[playerId].party = kontraRe.Kontra;\n      }\n      let reCount = 0;\n      Object.values(this.playerStates).forEach((player) => {\n        if (player.party === kontraRe.Re) {\n          reCount++;\n        }\n      });\n      this.saveOK = false;\n      if (reCount === 1 || reCount === 2) {\n        this.saveOK = true;\n      }\n    },\n    click(buttonId: number) {\n      this.Buttons[buttonId].state = !this.Buttons[buttonId].state;\n      let party = this.Buttons[buttonId].party;\n      if (this.Buttons[buttonId].state === true) {\n        this.Buttons = this.Buttons.map((button, index) => {\n          if (index !== buttonId && button.party === party) {\n            button.state = false;\n          }\n          return button;\n        });\n      }\n    },\n    saveGame() {\n      if (this.saveOK) {\n        //result=-4:Re schwarz,-3=Re3 -2=Re6 -1=Re9 0=re Gewonnen, 1=Kontra gewonnen, 5=Kontra schwarz gewonnen\n        //extrapoints -5 bis -1 =Re-Extrapunkte, 1 bis 5 = Kontra-Extrapunkte\n        let kontraAnsage = 0;\n        let reAnsage = 0;\n        this.Buttons.forEach(button => {\n          if (button.state === true) {\n            if (button.value < 0) reAnsage = button.value;\n            else kontraAnsage = button.value;\n          }\n        })\n        let gameObject = {\n          playerStates: this.playerStates,\n          kontraAnsage,\n          reAnsage,\n          result: this.result,\n          extrapoints: this.extrapoints,\n          changeLastGame: this.changeLastGame\n        }\n        back.saveGame(gameObject);\n        this.refreshState();\n      }\n    },\n    saveLastGame() {\n      this.changeLastGame = true;\n      this.saveGame();\n      this.changeLastGame = false;\n    }\n  },\n});\n"],"sourceRoot":""}]}